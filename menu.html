<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Incluye jQuery antes de Fomantic-UI -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.9.3/dist/semantic.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/fomantic-ui@2.9.3/dist/semantic.min.js"></script>

    <title>Document</title>

    <style>
      
      .ui.top.attached.menu {
    
        top: 0;
        width: 100%;
        z-index: 1000; 
      }

      .ui.sidebar {
        margin-top: 8.5em; 
      }

      /* Tus estilos previos */
      #usuario {
        width: 150px; /* Ancho del ítem */
        padding: 10px; /* Espaciado interno */
        cursor: pointer; /* Cambiar el cursor a pointer */
        position: relative;
      }

      #usuario .content {
        text-align: center; /* Centra el contenido del ítem */
      }

      /* Estilo del menú flotante del usuario */
      #userMenu {
        display: none; /* Inicialmente oculto */
        position: absolute;
        top: 80%;
        left: 50%;
        transform: translateX(-50%);
        z-index: 10;
        width: 200px;
      }

      #userMenu .ui.card {
        width: 200px;
        padding: 0;
      }

      #userMenu .ui.vertical.menu {
        width: 100%;
      }

      #userMenu .ui.vertical.menu .item {
        font-size: 14px;
        padding: 10px;
      }

      #userMenu .ui.card .content .ui.centered.circular.image {
        width: 100px;
        height: 100px;
      }

      #userMenu .ui.card .content {
        padding: 10px;
        text-align: center;
      }
    </style>
  </head>

  <body>
    

    <!-- Encabezado de la página (fijo) -->
    <header>
      <div class="ui top attached menu">
        <!-- Botón para mostrar/ocultar la sidebar -->
        <a class="item" id="toggleSidebar">
          <i class="bars icon"></i>
        </a>

        <div class="item">
          <img
            class="ui mini circular image"
            src="/img/kdsu.png"
            style="height: 40px; width: auto;"
          />
          <div class="content">
            <div class="ui sub header"></div>
            <font style="margin-left: 10px; vertical-align: inherit;"
              ><font style="vertical-align: inherit;">KDSU PORTAL</font></font
            >
          </div>
        </div>

        <div style="display: flex; justify-content: center; align-items: center;">
          <div class="ui breadcrumb">
            <a class="section">
              <font style="vertical-align: inherit;"
                ><font style="vertical-align: inherit;">Hogar</font></font
              >
            </a>
            <i class="right angle icon divider"></i>
            <a class="section">
              <font style="vertical-align: inherit;"
                ><font style="vertical-align: inherit;">Almacenar</font></font
              >
            </a>
            <i class="right angle icon divider"></i>
            <div class="active section">
              <font style="vertical-align: inherit;"
                ><font style="vertical-align: inherit;">Camiseta</font></font
              >
            </div>
          </div>
        </div>

        <div class="right menu" id="notificaciones">
          <div class="ui dropdown item blink" tabindex="0">
            <div class="" id="notificationHeader">
              <i class="bell icon"></i>
              <div class="bottom floating ui yellow label" id="notificationCount">
                8
              </div>
            </div>

            <div
              class="menu left transition hidden"
              id="notificationContainer"
              style="
                max-height: 200px;
                min-width: 400px;
                max-width: 550px;
                overflow-y: scroll;
              "
              tabindex="-1"
            >
              <div class="item textContainer" id="deleteNotifications">
                <h5 class="center">
                  <i class="trash icon"></i> Borrar todas las notificaciones.
                </h5>
              </div>

              <div class="divider"></div>
              <a class="item textContainer">
                <span class="center" style="font-weight: bolder"
                  >Ticket #148915 - CONSULTA DE PEDIDO</span
                ><br />
                <span style="white-space: initial"
                  >Se ha transferido un nuevo ticket a la mesa.</span
                ><br />
                <span>27/12/24 17:47</span>
              </a>
              <div class="divider"></div>
              <a class="item textContainer">
                <span class="center" style="font-weight: bolder"
                  >Ticket #148783 - Corrección de Uso de CFDI</span
                ><br />
                <span style="white-space: initial"
                  >Se ha transferido un nuevo ticket a la mesa.</span
                ><br />
                <span>27/12/24 12:51</span>
              </a>
              <div class="divider"></div>
            </div>
          </div>

          <div class="item" id="usuario" style="position: relative;">
            <div class="content">
              <div class="ui sub header">
                <font style="vertical-align: inherit;"
                  ><font style="vertical-align: inherit;">Elyse</font></font
                >
              </div>
              <font style="vertical-align: inherit;"
                ><font style="vertical-align: inherit;">Revelador</font></font
              >
            </div>
            <img class="ui mini circular image" src="/img/elyse.png" />

            <!-- Menú flotante oculto -->
            <div
              class="ui card hidden"
              id="userMenu"
              style="
                position: absolute;
                top: 80%;
                left: 50%;
                transform: translateX(-50%);
                z-index: 10;
              "
            >
              <div class="content" style="text-align: center;">
                <img
                  class="ui centered circular image"
                  src="/img/elyse.png"
                  style="width: 100px; height: 100px;"
                />
                <div class="header" style="margin-top: 10px;">Elyse</div>
                <div class="meta">Revelador</div>
              </div>

              <div class="ui vertical menu">
                <a class="item">
                  <i class="user icon"></i> Perfil
                </a>
                <a class="item">
                  <i class="cog icon"></i> Configuración
                </a>
                <a class="item">
                  <i class="envelope icon"></i> Mensajes
                </a>
                <a class="item">
                  <i class="sign-out icon"></i> Cerrar sesión
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- SIDEBAR (Menú lateral) -->
    <div class="ui sidebar vertical menu" id="mySidebar">
      <!-- Campo de búsqueda -->
      <div class="item">
        <div class="ui icon input">
          <input type="text" placeholder="Buscar..." />
          <i class="search icon"></i>
        </div>
      </div>
      <div class="ui divider"></div>

      <!-- Opciones de menú (placeholder) -->
      <a class="item">Opción 1</a>
      <a class="item">Opción 2</a>
      <a class="item">Opción 3</a>
      <div class="ui divider"></div>
      <a class="item">Reportes</a>
      <a class="item">Procesos</a>
    </div>


 
      <div class="" style="margin-top: 2rem;">
        <h2>Contenido principal</h2>
        <p>
          Aquí va el contenido de la página. El header está arriba de todo (sin
          moverse). Cuando hagas clic en el ícono (<i class="bars icon"></i>), la
          sidebar se desplegará justo a la altura donde empieza este contenido.
        </p>
      </div>
   

    <script>
      $(document).ready(function () {
        // Inicializa la sidebar de Fomantic
        $('.ui.sidebar').sidebar({
          dimPage: false, // Evita oscurecer la página
          transition: 'overlay' // 'overlay' o 'push', según prefieras
        });

        // Botón para mostrar/ocultar la sidebar
        $('#toggleSidebar').on('click', function () {
          $('.ui.sidebar').sidebar('toggle');
        });

        // Manejar el clic en el componente de notificaciones
        $('#notificaciones').on('click', function (event) {
          event.stopPropagation();
          $('#notificationContainer').toggleClass('hidden');
        });

        // Evitar abrir el menú de notificaciones al hacer clic en el usuario
        $('#usuario').on('click', function (event) {
          event.stopPropagation();
        });

        // Cerrar el menú de notificaciones si se hace clic fuera
        $(document).on('click', function (event) {
          if (
            !$(event.target).closest('#notificaciones').length &&
            !$(event.target).closest('#notificationContainer').length &&
            !$(event.target).closest('#usuario').length
          ) {
            $('#notificationContainer').addClass('hidden');
          }
        });

        // Mostrar/ocultar el menú flotante de usuario
        $('#usuario').on('click', function (event) {
          event.stopPropagation();
          $('#userMenu').toggle();
        });

        // Cerrar menú flotante del usuario si se hace clic fuera
        $(document).on('click', function (event) {
          if (
            !$(event.target).closest('#usuario').length &&
            !$(event.target).closest('#userMenu').length
          ) {
            $('#userMenu').hide();
          }
        });
      });
    </script>
  </body>
</html>
